<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>S'inscrire</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/css_yassine/register.css">
    <script src="/webjars/bootstrap/5.2.3/js/bootstrap.bundle.js"></script>
</head>
<body>


{% include '/nav.html.twig' %}

<div class="containerr" style="margin-top : 56.2px;">
    <div class="forms-container">
        <div class="signin-signup">
                <section class="sign-in-form">
                    <div class="bod" style="margin-top : 20px;">
                        <div class="wrapper">
                                <div class="title login">
                                    Informations du compte
                                </div>
                            <div class="form-container">
                                <div class="slide-controls">
                                    <input type="radio" name="slide" id="login" checked>
                                    <input type="radio" name="slide" id="signup">
                                    <label for="login" class="slide login">Enseignant</label>
                                    <label for="signup" class="slide signup">Etudiant</label>
                                    <div class="slider-tab">
                                    </div>
                                </div>
                                <div class="form-inner">
                                    <form action="{{ path('addTeacher') }}" method="post" enctype="multipart/form-data" id="registrationFormTeacher" class="login">
                                        <div class="field-group">
                                            <div class="field">
                                                <input type="text" placeholder="Nom" name="nom" id="nomTeacher" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorNomTeacher"></small></span>
                                            </div>
                                            <div class="field">
                                                <input type="text" placeholder="Prenom" name="prenom" id="prenomTeacher" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorPrenomTeacher"></small></span>
                                            </div>
                                        </div>
                                        <div class="field-group">
                                            <div class="field">
                                                <select class="form-select sel" aria-label="Genre" name="genre">
                                                    <option value="male" selected >Male</option>
                                                    <option value="female">Female</option>
                                                    <option value="other">Autre</option>
                                                </select>
                                            </div>
                                            <div class="field">
                                                    <input type="date" class="myDate" class="form-control" name="dateNaissance" id="dateTeacher" required>
                                                    <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorDateTeacher"></small></span>
                                            </div>
                                        </div>
                                        <div class="field-group">
                                            <div class="field">
                                                <input type="text" placeholder="CIN" name="cinTeacher" id="cinTeacher" style="margin-left : 12px;" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 15px;"><small id="errorCinTeacher"></small></span>
                                            </div>
                                            <div class="field">
                                                <input type="file" id="profilePhoto" name="profil_picture" style="display: none;" accept="image/*">
                                                <button class="btn" type="button" style="color: white; margin-left: 10px;" onclick="document.getElementById('profilePhoto').click();">Ajouter photo</button>
                                            </div>
                                        </div>
                                        <div class="btn-container">
                                            <div class="field btn">
                                                <input type="submit" value="Continuer">
                                            </div>
                                        </div>
                                        <div class="signup-link">
                                            Vous avez déja un compte ? <a href="{{ path('login') }}">Connecter</a>
                                        </div>
                                    </form>
                                    <form action="{{ path('addStudent') }}" method="post" enctype="multipart/form-data" id="registrationFormStudent" class="signup">
                                        <div class="field-group">
                                            <div class="field">
                                                <input type="text" placeholder="Nom" name="nomStudent" id="nomStudent" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorNomStudent"></small></span>
                                            </div>
                                            <div class="field">
                                                <input type="text" placeholder="Prenom" name="prenomStudent" id="prenomStudent" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorPrenomStudent"></small></span>
                                            </div>
                                        </div>
                                        <div class="field-group">
                                            <div class="field">
                                                <input type="number" placeholder="Niveau" name="niveau" id="niveau" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorNiveau"></small></span>
                                            </div>
                                            <div class="field">
                                                <input type="text" placeholder="Classe" name="classe" id="classe" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorClasse"></small></span>
                                            </div>
                                        </div>
                                        <div class="field-group">
                                            <div class="field">
                                                <select class="form-select sel" aria-label="Genre" name="genreStudent">
                                                    <option value="male" selected >Male</option>
                                                    <option value="female">Female</option>
                                                    <option value="other">Autre</option>
                                                </select>
                                            </div>
                                            <div class="field">
                                                    <input type="date" class="myDate" class="form-control" name="dateNaissanceStudent" id="dateStudent" required>
                                                    <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 10px;"><small id="errorDateStudent"></small></span>
                                            </div>
                                        </div>
                                        <div class="field-group">
                                            <div class="field">
                                                <input type="text" placeholder="CIN" name="cin" id="cin" style="margin-left : 12px;" required>
                                                <span  class="info-message" style="color: red;margin-top: 7px;margin-left: 15px;"><small id="errorCin"></small></span>
                                            </div>
                                            <div class="field">
                                                <input type="file" id="profilePhotoStudent" name="profil_pictureStudent" style="display: none;" accept="image/*">
                                                <button class="btn" type="button" style="color: white; margin-left: 10px;" onclick="document.getElementById('profilePhotoStudent').click();">Ajouter photo</button>
                                            </div>
                                        </div>
                                        <div class="btn-container">
                                            <div class="field btn">
                                                <input type="submit" value="Continuer">
                                            </div>
                                        </div>
                                        <div class="signup-link">
                                            Vous avez déja un compte ? <a href="{{ path('login') }}">Connecter</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="sign-up-form">
                        <h2 class="title" style="margin-top : 100px;">Compte entreprise</h2>
                        <form action="{{ path('addEntreprise') }}" method="post" id="entrepriseForm">
                            <div class="form-group">
                                <label>Nom d'entreprise :</label>
                                <input type="text" class="form-control hm" name="nomEntreprise" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Pays :</label>
                                <input type="text" class="form-control hm" name="pays" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Localisation :</label>
                                <input type="text" class="form-control hm" name="local" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Site Web :</label>
                                <input type="text" class="form-control hm" name="website" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email :</label>
                                <input type="email" class="form-control hm" name="email" required>
                            </div>
                            <div class="form-group">
                                <label>Mot de passe :</label>
                                <input type="password" id="pass" class="form-control hm" name="password" required>
                                <span style="color: red;"><small id="pwdError"></small></span>
                            </div>
                            <button type="submit" class="btn" style="color : white; margin-top : 20px;">Créer Compte</button>
                        </form>
                </section>
        </div>
    </div>
    <div class="panels-container">
        <div class="panel left-panel">
            <div class="content">
                <h3>Vous êtes une entreprise ?</h3>
                <p>Cliquez sur le bouton ci-dessous pour créer un nouveau compte !</p>
                <button class="btn transparent" style="color : white;" id="sign-up-btn">Créer Compte</button>
            </div>
            <img src="/images/Profiling_Monochromatic.png" class="image" alt="">
        </div>
        <div class="panel right-panel">
            <div class="content">
                <h3>Vous êtes un enseignant ou un étudiant ?</h3>
                <p>Cliquez sur le bouton ci-dessous pour créer un nouveau compte !</p>
                <button class="btn transparent" style="color : white;" id="sign-in-btn">Créer Compte</button>
            </div>
            <img src="/images/im.png" class="image" alt="">
        </div>
    </div>
</div>


<script>
         const loginText = document.querySelector(".title-text .login");
         const loginForm = document.querySelector("form.login");
         const loginBtn = document.querySelector("label.login");
         const signupBtn = document.querySelector("label.signup");
        signupBtn.onclick = (()=>{
           loginForm.style.marginLeft = "-50%";
           loginText.style.marginLeft = "-50%";
         });
         loginBtn.onclick = (()=>{
           loginForm.style.marginLeft = "0%";
           loginText.style.marginLeft = "0%";
         });

         document.getElementById('entrepriseForm').addEventListener('submit', function(event)  {
            var password = document.querySelector('#pass').value;
            var pwdError = document.getElementById('pwdError');

            var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;

            if (!regex.test(password)) {
                event.preventDefault();
                pwdError.textContent = 'MAJ/min/chiffre/caractère spécial';
            } else {
                pwdError.textContent = '';
            }
            });

</script>

<script src="/js/register.js"></script>

</body>
</html>