{% extends 'base.html.twig' %}

{% block title %}Hello ActivitesEspritController!{% endblock %}

{% block body %}
<!-- Courses Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="section-title bg-white text-center text-primary px-3">Activités</h6>
            <h1 class="mb-5">Activités offertes par Esprit </h1>
        </div>
        <div class="row g-4 justify-content-center">
            {# Activité 1: SALLE DE SPORT #}
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                <div class="course-item bg-light">
                    <div class="position-relative overflow-hidden">
                        <img class="img-fluid" src="{{ asset('img/sport.png') }}" alt="">

                        <div class="w-100 d-flex justify-content-center position-absolute bottom-0 start-0 mb-4">
                            <a href="#" class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;" onclick="showDetails('SALLE DE SPORT')">Voir plus</a>
                            <a href="{{ path('app_inscription_new', {'id_activite': activites[0].id}) }}" class="flex-shrink-0 btn btn-sm btn-primary px-3" style="border-radius: 0 30px 30px 0;" onclick="logSelectedPrice(selectedPrice)" data-selected-price="{{ selectedPrice }}">S'inscrire</a>

                        </div>
                    </div>
                    <div class="text-center p-4 pb-0">
                        <h3 class="mb-0">SALLE DE SPORT</h3>
                        <div class="mb-3">
                           <small class="fas fa-star text-warning"></small>
                           <small class="fas fa-star text-warning"></small>
                           <small class="fas fa-star text-warning"></small>
                           <small class="fas fa-star text-warning"></small>
                           <small class="fas fa-star text-warning"></small>
                           
                        </div>
                        <h5 class="mb-4">BLOC D</h5>
                    </div>
                    <div class="d-flex border-top">
                        <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 30)"><i class="fas fa-money-check-alt text-success me-2"></i>1 mois=30D</small> 
                        <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 60)"><i class="fas fa-money-check-alt text-success me-2"></i>2 mois=60D</small>
                        <small class="flex-fill text-center py-2" onclick="selectMonths(this, 80)"><i class="fas fa-money-check-alt text-success me-2"></i>3 mois=80D</small>
                    </div>

                </div>
            </div>
            
            <!-- Activité 2: PISCINE -->
<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
    <div class="course-item bg-light">
        <div class="position-relative overflow-hidden">
            <img class="img-fluid" src="{{ asset('img/piscine.png') }}" alt="">
            <div class="w-100 d-flex justify-content-center position-absolute bottom-0 start-0 mb-4">
                <a href="#" class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;" onclick="showDetails('PISCINE')">Voir plus</a>
                <a href="{{ path('app_inscription_new', {'id_activite': activites[1].id}) }}" class="flex-shrink-0 btn btn-sm btn-primary px-3" style="border-radius: 0 30px 30px 0;" onclick="logSelectedPrice(selectedPrice)" data-selected-price="{{ selectedPrice }}">S'inscrire</a>



            </div>
        </div>
        <div class="text-center p-4 pb-0">
            <h3 class="mb-0">PISCINE</h3>
            <div class="mb-3">
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
            </div>
            <h5 class="mb-4">BLOC D</h5>
        </div>
        <div class="d-flex border-top">
            <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 30)"><i class="fas fa-money-check-alt text-success me-2"></i>1 mois=30D</small> 
            <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 60)"><i class="fas fa-money-check-alt text-success me-2"></i>2 mois=60D</small>
            <small class="flex-fill text-center py-2" onclick="selectMonths(this, 80)"><i class="fas fa-money-check-alt text-success me-2"></i>3 mois=80D</small>
        </div>
    </div>
</div>
<input type="hidden" id="selected_price" name="selected_price" value="{{ selectedPrice}}">


<!-- Activité 3: CO-WORKING -->
<div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
    <div class="course-item bg-light">
        <div class="position-relative overflow-hidden">
            <img class="img-fluid" src="{{ asset('img/co.png') }}" alt="">
            <div class="w-100 d-flex justify-content-center position-absolute bottom-0 start-0 mb-4">
                <a href="#" class="flex-shrink-0 btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;" onclick="showDetails('CO-WORKING')">Voir plus</a>
                <a href="{{ path('app_inscription_new', {'id_activite': activites[2].id}) }}" class="flex-shrink-0 btn btn-sm btn-primary px-3" style="border-radius: 0 30px 30px 0;" onclick="logSelectedPrice()" data-selected-price="{{ selectedPrice }}">S'inscrire</a>









            </div>
        </div>
        <div class="text-center p-4 pb-0">
            <h3 class="mb-0">CO-WORKING</h3>
            <div class="mb-3">
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
               <small class="fas fa-star text-warning"></small>
            </div>
            <h5 class="mb-4">BLOC G </h5>
        </div>
        <div class="d-flex border-top">
            <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 30)"><i class="fas fa-money-check-alt text-success me-2"></i>1 mois=30D</small> 
            <small class="flex-fill text-center border-end py-2" onclick="selectMonths(this, 60)"><i class="fas fa-money-check-alt text-success me-2"></i>2 mois=60D</small>
            <small class="flex-fill text-center py-2" onclick="selectMonths(this, 80)"><i class="fas fa-money-check-alt text-success me-2"></i>3 mois=80D</small>
        </div>

    </div>
</div>

<!-- Courses End -->

<!-- Modal -->
<div class="modal fade" id="activityModal" tabindex="-1" aria-labelledby="activityModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="activityModalLabel">Détails de l'activité</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h4 id="activityName"></h4>
                <p id="activityDescription"></p>
            </div>
        </div>
    </div>
</div>

<script>
    function showDetails(nom) {
        var description;
        switch (nom) {
            case 'SALLE DE SPORT':
                description = 'La salle de sport a été construite en 2010 et est équipée d\'un large éventail de machines de fitness, y compris des tapis roulants, des vélos stationnaires, des machines de musculation, des poids libres, etc. Elle dispose également de vestiaires avec des douches et des casiers pour les membres. Les heures d\'ouverture sont de 6h00 à 22h00 du lundi au vendredi et de 8h00 à 20h00 le week-end.';
                break;
            case 'PISCINE':
                description = 'La piscine de l\'université a été construite en 2008 spécialement pour les étudiants de la faculté. Elle est équipée de vestiaires, de douches et de casiers. Des cours de natation sont disponibles pour les étudiants et des séances d\'aquagym sont également organisées. Les heures d\'ouverture sont de 7h00 à 21h00 tous les jours de la semaine.';
                break;
            case 'CO-WORKING':
                description = 'Le co-working space est un espace moderne et lumineux conçu pour favoriser la collaboration et la créativité. Il offre des bureaux partagés, des salles de réunion, un accès Internet haut débit, une cuisine commune et des services d\'impression. Des événements de réseautage et des ateliers sont régulièrement organisés pour les membres. Les heures d\'ouverture sont de 9h00 à 18h00 du lundi au vendredi.';
                break;
            default:
                description = '';
        }
        document.getElementById('activityName').textContent = nom;
        document.getElementById('activityDescription').textContent = description;
        $('#activityModal').modal('show');
    }
</script>

<script>
    let selectedPrice = null;

    function selectMonths(element, price) {
    // Mettre à jour le prix sélectionné
    selectedPrice = price;

    // Débogage : afficher la valeur de selectedPrice
    console.log('selectedPrice:', selectedPrice);
    // Appeler logSelectedPrice() pour mettre à jour le champ caché
    logSelectedPrice();
}

     function logSelectedPrice() {
    // Stocker le prix sélectionné dans le champ caché
      document.getElementById('selected_price').value = selectedPrice;

    // Débogage : afficher la valeur stockée dans le champ caché
      console.log('Champ selected_price:', document.getElementById('selected_price').value);
}



</script>

<style>
    .selected {
        background-color: #f0f0f0; /* Couleur de fond pour indiquer la sélection */
    }
</style>



{% endblock %}
